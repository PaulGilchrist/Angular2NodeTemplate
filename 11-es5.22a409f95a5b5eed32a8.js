function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){s=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(s)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(r):s.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){return function(){var t,r=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{nKdS:function(e,t,r){"use strict";r.r(t),r.d(t,"UserModule",(function(){return q}));var n=r("ofXK"),s=r("3Pt+"),i=r("tk/3"),o=r("tyNb"),a=r("YkZh"),c=r("fXoL"),l=r("JhMT"),b=r("5eHb"),d=r("2Vo4"),u=r("itXk"),f=r("LRne"),h=r("z6cu"),p=r("7o/Q");function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new v(e,t))}}var m,v=function(){function e(t,r){_classCallCheck(this,e),this.count=t,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new y(e,this.count,this.source))}}]),e}(),y=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,s){var i;return _classCallCheck(this,r),(i=t.call(this,e)).count=n,i.source=s,i}return _createClass(r,[{key:"error",value:function(e){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return _get(_getPrototypeOf(r.prototype),"error",this).call(this,e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}]),r}(p.a),R=r("lJxs"),Q=r("vkgz"),C=r("JIr8"),w=r("AytR"),_=((m=function(){function e(t){_classCallCheck(this,e),this.http=t,this.states=new d.a([]),this.states$=this.states.asObservable(),this.users=new d.a([]),this.users$=this.users.asObservable()}return _createClass(e,[{key:"getUsers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||0===this.users.getValue().length||Date.now()-this._lastUserDataRetreivalTime>w.a.dataCaching.userData){var r=localStorage.getItem("users");if(r){var n=JSON.parse(r);this.users.next(n),console.log("GET users")}else Object(u.a)([this.http.get(w.a.apiUrl+"addresses.json"),this.http.get(w.a.apiUrl+"users.json")]).pipe(g(3),Object(R.a)((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return n.forEach((function(e){return e.addresses=r.filter((function(t){return e.addressIds.includes(t.id)}))})),n})),Object(Q.a)((function(t){e._lastUserDataRetreivalTime=Date.now(),e.users.next(t),console.log("GET users")})),Object(C.a)(this.handleError)).subscribe()}return this.users$}},{key:"getStates",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t||0===this.states.getValue().length||Date.now()-this._lastStateDataRetreivalTime>w.a.dataCaching.defaultLong)&&this.http.get(w.a.apiUrl+"states.json").pipe(g(3),Object(Q.a)((function(t){e._lastStateDataRetreivalTime=Date.now(),e.states.next(t),console.log("GET states")})),Object(C.a)(this.handleError)).subscribe(),this.states$}},{key:"updateUser",value:function(e){var t=this.users.getValue();return t.map((function(t){return e.id===t.id?e:t})),localStorage.setItem("users",JSON.stringify(t)),this.users.next(t),Object(f.a)(!0)}},{key:"handleError",value:function(e){return console.error(e),Object(h.a)(e||"Server error")}}]),e}()).\u0275fac=function(e){return new(e||m)(c.Vb(i.b))},m.\u0275prov=c.Ib({token:m,factory:m.\u0275fac}),m),k=function(e,t,r){return{slideInLeft:e,bounce:t,shake:r}};function S(e,t){if(1&e){var r=c.Sb();c.Rb(0,"div",1),c.Rb(1,"h3"),c.sc(2,"User"),c.Qb(),c.Rb(3,"form",2,3),c.Rb(5,"div",4),c.Rb(6,"label",5),c.sc(7,"First Name"),c.Qb(),c.Rb(8,"div",6),c.Rb(9,"div",7),c.Rb(10,"div",8),c.Nb(11,"i",9),c.Qb(),c.Qb(),c.Rb(12,"input",10,11),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formUser.firstName=e})),c.Qb(),c.Qb(),c.Rb(14,"div",12),c.sc(15," First name must be between 2 and 20 characters "),c.Qb(),c.Qb(),c.Rb(16,"div",4),c.Rb(17,"label",5),c.sc(18,"Last Name"),c.Qb(),c.Rb(19,"div",6),c.Rb(20,"div",7),c.Rb(21,"div",8),c.Nb(22,"i",13),c.Qb(),c.Qb(),c.Rb(23,"input",14,15),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formUser.lastName=e})),c.Qb(),c.Qb(),c.Rb(25,"div",12),c.sc(26," Last name must be between 2 and 20 characters "),c.Qb(),c.Qb(),c.Rb(27,"div",4),c.Rb(28,"label",5),c.sc(29,"Email Address"),c.Qb(),c.Rb(30,"div",6),c.Rb(31,"div",7),c.Rb(32,"div",8),c.Nb(33,"i",16),c.Qb(),c.Qb(),c.Rb(34,"input",17,18),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formUser.email=e})),c.Qb(),c.Qb(),c.Rb(36,"div",12),c.sc(37," Not a valid email address "),c.Qb(),c.Qb(),c.Rb(38,"div",4),c.Rb(39,"label",5),c.sc(40,"Phone Number"),c.Qb(),c.Rb(41,"div",6),c.Rb(42,"div",7),c.Rb(43,"div",8),c.Nb(44,"i",19),c.Qb(),c.Qb(),c.Rb(45,"input",20,21),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formUser.phone=e})),c.Qb(),c.Qb(),c.Rb(47,"div",12),c.sc(48," Phone is not in the required format (###) ###-#### "),c.Qb(),c.Qb(),c.Rb(49,"div",4),c.Rb(50,"label",5),c.sc(51,"Date of Birth"),c.Qb(),c.Rb(52,"div",6),c.Rb(53,"div",7),c.Rb(54,"div",8),c.Nb(55,"i",22),c.Qb(),c.Qb(),c.Rb(56,"input",23,24),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formUser.dob=e})),c.Qb(),c.Qb(),c.Rb(58,"div",12),c.sc(59," Date of birth is invalid "),c.Qb(),c.Qb(),c.Nb(60,"div",25),c.Rb(61,"button",26),c.Zb("click",(function(){return c.mc(r),c.cc().saveForm()})),c.Nb(62,"i",27),c.sc(63," Save"),c.Qb(),c.sc(64," \xa0 "),c.Rb(65,"button",26),c.Zb("click",(function(){return c.mc(r),c.cc().cancelForm()})),c.Nb(66,"i",28),c.sc(67," Cancel"),c.Qb(),c.Nb(68,"div",29),c.Qb(),c.Qb()}if(2&e){var n=c.lc(4),s=c.lc(13),i=c.lc(24),o=c.lc(35),a=c.lc(46),l=c.lc(57),b=c.cc();c.gc("ngClass",c.jc(37,k,"new"===b.status,"saved"===b.status,"canceled"===b.status)),c.Bb(5),c.Eb("has-error",s.invalid&&s.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formUser.firstName),c.Bb(2),c.gc("hidden",s.valid||s.pristine),c.Bb(2),c.Eb("has-error",i.invalid&&i.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formUser.lastName),c.Bb(2),c.gc("hidden",i.valid||i.pristine),c.Bb(2),c.Eb("has-error",o.invalid&&o.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formUser.email),c.Bb(2),c.gc("hidden",o.valid||o.pristine),c.Bb(2),c.Eb("has-error",a.invalid&&a.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formUser.phone),c.Bb(2),c.gc("hidden",a.valid||a.pristine),c.Bb(2),c.Eb("has-error",l.invalid&&l.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formUser.dob),c.Bb(2),c.gc("hidden",l.valid),c.Bb(3),c.Eb("btn-sm",b.shrink),c.gc("disabled",n.pristine||n.invalid),c.Bb(4),c.Eb("btn-sm",b.shrink),c.gc("disabled",n.pristine)}}var O,M=((O=function(){function e(){_classCallCheck(this,e),this.shrink=window.innerWidth<768,this.status="new",this.save=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;window.onresize=function(){return e.shrink=window.innerWidth<768}}},{key:"saveForm",value:function(){Object.assign(this.inputUser,this.formUser),this.save.emit(this.inputUser),this.status="saved"}},{key:"cancelForm",value:function(){Object.assign(this.formUser,this.inputUser),this.status="canceled"}},{key:"user",set:function(e){this.inputUser=e,this.formUser=e?Object.assign({},e):null}}]),e}()).\u0275fac=function(e){return new(e||O)},O.\u0275cmp=c.Gb({type:O,selectors:[["app-user-form"]],inputs:{user:"user"},outputs:{save:"save"},decls:1,vars:1,consts:[["id","user-form","class","animated",3,"ngClass",4,"ngIf"],["id","user-form",1,"animated",3,"ngClass"],["novalidate",""],["userForm","ngForm"],[1,"form-group"],[1,"control-label"],[1,"input-group","margin-bottom-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user","fa-fw"],["type","text","name","firstName","placeholder","First Name","pattern","[A-Za-z ,.'-]+","required","","autofocus","","minlength","2","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["firstNameControl","ngModel"],[1,"alert","alert-danger",3,"hidden"],[1,"fa","fa-users","fa-fw"],["type","text","name","lastName","placeholder","Last Name","pattern","[A-Za-z ,.'-]+","required","","minlength","2","maxlength","20",1,"form-control",3,"ngModel","ngModelChange"],["lastNameControl","ngModel"],[1,"fa","fa-envelope-o","fa-fw"],["type","email","name","email","required","","placeholder","Email address","pattern","[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}",1,"form-control",3,"ngModel","ngModelChange"],["emailControl","ngModel"],[1,"fa","fa-phone","fa-fw"],["type","tel","name","phone","placeholder","(###) ###-####","pattern","[\\(]\\d{3}[\\)][\\s]\\d{3}[\\-]\\d{4}","required","",1,"form-control",3,"ngModel","ngModelChange"],["phoneControl","ngModel"],[1,"fa","fa-calendar","fa-fw"],["type","date","name","dob","placeholder","MM/DD/YYYY",1,"form-control",3,"ngModel","ngModelChange"],["dobControl","ngModel"],[2,"height","10px"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check"],[1,"fa","fa-times"],[1,"hidden-md-up",2,"height","20px"]],template:function(e,t){1&e&&c.rc(0,S,69,41,"div",0),2&e&&c.gc("ngIf",t.formUser)},directives:[n.j,n.h,s.p,s.g,s.h,s.a,s.l,s.m,s.d,s.c,s.f,s.i],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:5px}h2[_ngcontent-%COMP%]{margin-top:0}input.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #5cb85c}input.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #d9534f}label[_ngcontent-%COMP%]{margin-bottom:1px}"]}),O);function N(e,t){if(1&e&&(c.Rb(0,"option",29),c.sc(1),c.Qb()),2&e){var r=t.$implicit;c.gc("value",r.abbreviation),c.Bb(1),c.tc(r.name)}}function B(e,t){if(1&e){var r=c.Sb();c.Rb(0,"div",1),c.Rb(1,"h3"),c.sc(2,"Address"),c.Qb(),c.Rb(3,"form",2,3),c.Rb(5,"div",4),c.Rb(6,"label",5),c.sc(7,"Name"),c.Qb(),c.Rb(8,"div",6),c.Rb(9,"div",7),c.Rb(10,"div",8),c.Nb(11,"i",9),c.Qb(),c.Qb(),c.Rb(12,"input",10,11),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formAddress.name=e})),c.Qb(),c.Qb(),c.Rb(14,"div",12),c.sc(15," Name only allows for alpha characters. First word must be capatalized. "),c.Qb(),c.Qb(),c.Rb(16,"div",4),c.Rb(17,"label",5),c.sc(18,"Street Number"),c.Qb(),c.Rb(19,"div",6),c.Rb(20,"div",7),c.Rb(21,"div",8),c.Nb(22,"i",13),c.Qb(),c.Qb(),c.Rb(23,"input",14,15),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formAddress.streetNumber=e})),c.Qb(),c.Qb(),c.Rb(25,"div",12),c.sc(26," Street number is invalid and must be between 1 and 99999 "),c.Qb(),c.Qb(),c.Rb(27,"div",4),c.Rb(28,"label",5),c.sc(29,"Street Name"),c.Qb(),c.Rb(30,"div",6),c.Rb(31,"div",7),c.Rb(32,"div",8),c.Nb(33,"i",16),c.Qb(),c.Qb(),c.Rb(34,"input",17,18),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formAddress.streetName=e})),c.Qb(),c.Qb(),c.Rb(36,"div",12),c.sc(37," Street name only allows for alpha characters. First word must be capatalized. "),c.Qb(),c.Qb(),c.Rb(38,"div",4),c.Rb(39,"label",5),c.sc(40,"City"),c.Qb(),c.Rb(41,"div",6),c.Rb(42,"div",7),c.Rb(43,"div",8),c.Nb(44,"i",19),c.Qb(),c.Qb(),c.Rb(45,"input",20,21),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formAddress.city=e})),c.Qb(),c.Qb(),c.Rb(47,"div",12),c.sc(48," City is invalid. First word must be capatalized. "),c.Qb(),c.Qb(),c.Rb(49,"div",4),c.Rb(50,"label",5),c.sc(51,"State"),c.Qb(),c.Rb(52,"div",6),c.Rb(53,"div",7),c.Rb(54,"div",8),c.Nb(55,"i",22),c.Qb(),c.Qb(),c.Rb(56,"select",23,24),c.Zb("change",(function(e){return c.mc(r),c.cc().onUpdateState(e)})),c.rc(58,N,2,2,"option",25),c.Qb(),c.Qb(),c.Rb(59,"div",12),c.sc(60," State is required "),c.Qb(),c.Qb(),c.Rb(61,"div",4),c.Rb(62,"label",5),c.sc(63,"Zip Code"),c.Qb(),c.Rb(64,"div",6),c.Rb(65,"div",7),c.Rb(66,"div",8),c.Nb(67,"i",26),c.Qb(),c.Qb(),c.Rb(68,"input",27,28),c.Zb("ngModelChange",(function(e){return c.mc(r),c.cc().formAddress.zipCode=e})),c.Qb(),c.Qb(),c.Rb(70,"div",12),c.sc(71," Zip code must be in the format ##### or #####-#### "),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var n=c.lc(13),s=c.lc(24),i=c.lc(35),o=c.lc(46),a=c.lc(57),l=c.lc(69),b=c.cc();c.Bb(5),c.Eb("has-error",n.invalid&&n.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.name),c.Bb(2),c.gc("hidden",n.valid||n.pristine),c.Bb(2),c.Eb("has-error",s.invalid&&s.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.streetNumber),c.Bb(2),c.gc("hidden",s.valid||s.pristine),c.Bb(2),c.Eb("has-error",i.invalid&&i.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.streetName),c.Bb(2),c.gc("hidden",i.valid||i.pristine),c.Bb(2),c.Eb("has-error",o.invalid&&o.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.city),c.Bb(2),c.gc("hidden",o.valid||o.pristine),c.Bb(2),c.Eb("has-error",a.invalid&&a.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.state),c.Bb(2),c.gc("ngForOf",b.states),c.Bb(1),c.gc("hidden",a.valid||a.pristine),c.Bb(2),c.Eb("has-error",l.invalid&&l.dirty),c.Bb(7),c.Eb("form-control-sm",b.shrink),c.gc("ngModel",b.formAddress.zipCode),c.Bb(2),c.gc("hidden",l.valid||l.pristine)}}var U,A=((U=function(){function e(t,r){_classCallCheck(this,e),this.toastrService=t,this._userService=r,this.shrink=window.innerWidth<768,this.states=[],this.save=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.stateSubscription=this._userService.getStates().subscribe((function(t){return e.states=t})),window.onresize=function(){return e.shrink=window.innerWidth<768}}},{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe()}},{key:"onUpdateState",value:function(e){this.toastrService.success(e.target.selectedOptions[0].text,"State Changed")}},{key:"saveForm",value:function(){Object.assign(this.inputAddress,this.formAddress),this.save.emit(this.inputAddress)}},{key:"cancelForm",value:function(){Object.assign(this.formAddress,this.inputAddress)}},{key:"address",set:function(e){this.inputAddress=e,this.formAddress=e?Object.assign({},e):null}}]),e}()).\u0275fac=function(e){return new(e||U)(c.Mb(b.b),c.Mb(_))},U.\u0275cmp=c.Gb({type:U,selectors:[["app-address-form"]],inputs:{address:"address"},outputs:{save:"save"},decls:1,vars:1,consts:[["class","animated slideInRight",4,"ngIf"],[1,"animated","slideInRight"],["novalidate",""],["addressForm","ngForm"],[1,"form-group"],[1,"control-label"],[1,"input-group","margin-bottom-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-thumb-tack","fa-fw"],["type","text","name","name","placeholder","Enter name (optional)","pattern","[A-Z]{1}[a-z]+(?:[\\s-][a-zA-Z]+)*",1,"form-control",3,"ngModel","ngModelChange"],["nameControl","ngModel"],[1,"alert","alert-danger",3,"hidden"],[1,"fa","fa-location-arrow","fa-fw"],["type","number","name","streetNumber","placeholder","Enter street house #","required","","min","1","max","99999",1,"form-control",3,"ngModel","ngModelChange"],["streetNumberControl","ngModel"],[1,"fa","fa-map-marker","fa-fw"],["type","text","name","streetName","required","","placeholder","Enter street name","pattern","[A-Z]{1}[a-z]+(?:[\\s-][a-zA-Z]+)*",1,"form-control",3,"ngModel","ngModelChange"],["streetNameControl","ngModel"],[1,"fa","fa-compass","fa-fw"],["type","text","name","city","required","","placeholder","Enter city name","pattern","[A-Z]{1}[a-z]+(?:[\\s-][a-zA-Z]+)*",1,"form-control",3,"ngModel","ngModelChange"],["cityControl","ngModel"],[1,"fa","fa-plane","fa-fw"],["name","state",1,"form-control",3,"ngModel","change"],["stateControl","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-globe","fa-fw"],["type","text","name","zipCode","required","","placeholder","Enter zip code","pattern","[0-9]{5}(?:-[0-9]{4})?",1,"form-control",3,"ngModel","ngModelChange"],["zipCodeControl","ngModel"],[3,"value"]],template:function(e,t){1&e&&c.rc(0,B,72,37,"div",0),2&e&&c.gc("ngIf",t.formAddress)},directives:[n.j,s.p,s.g,s.h,s.a,s.l,s.f,s.i,s.k,s.m,s.n,n.i,s.j,s.o],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:5px}h2[_ngcontent-%COMP%]{margin-top:0}input.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #5cb85c}input.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #d9534f}label[_ngcontent-%COMP%]{margin-bottom:1px}"]}),U),E=function(e,t){return{"fa-caret-down":e,"fa-caret-up":t}};function I(e,t){if(1&e&&c.Nb(0,"i",20),2&e){var r=c.cc(2);c.gc("ngClass",c.ic(1,E,!r.sortReverse,r.sortReverse))}}function P(e,t){if(1&e&&c.Nb(0,"i",20),2&e){var r=c.cc(2);c.gc("ngClass",c.ic(1,E,!r.sortReverse,r.sortReverse))}}function j(e,t){if(1&e&&c.Nb(0,"i",20),2&e){var r=c.cc(2);c.gc("ngClass",c.ic(1,E,!r.sortReverse,r.sortReverse))}}function x(e,t){if(1&e&&c.Nb(0,"i",20),2&e){var r=c.cc(2);c.gc("ngClass",c.ic(1,E,!r.sortReverse,r.sortReverse))}}function Z(e,t){if(1&e){var r=c.Sb();c.Rb(0,"tr",21),c.Zb("click",(function(){c.mc(r);var e=t.$implicit;return c.cc(2).selectUser(e)})),c.Rb(1,"td"),c.sc(2),c.Qb(),c.Rb(3,"td"),c.sc(4),c.Qb(),c.Rb(5,"td"),c.sc(6),c.Qb(),c.Rb(7,"td"),c.sc(8),c.Qb(),c.Qb()}if(2&e){var n=t.$implicit,s=c.cc(2);c.Eb("bg-secondary",n===s.selectedUser)("text-light",n===s.selectedUser)("bold",n.isDirty),c.Bb(2),c.tc(n.firstName),c.Bb(2),c.tc(n.lastName),c.Bb(2),c.tc(n.email),c.Bb(2),c.tc(n.phone)}}function T(e,t){if(1&e){var r=c.Sb();c.Rb(0,"div",15),c.Rb(1,"table",16),c.Rb(2,"thead"),c.Rb(3,"tr"),c.Rb(4,"th",17),c.Zb("click",(function(){return c.mc(r),c.cc().changeSort("firstName")})),c.sc(5," First Name\xa0 "),c.rc(6,I,1,4,"i",18),c.Qb(),c.Rb(7,"th",17),c.Zb("click",(function(){return c.mc(r),c.cc().changeSort("lastName")})),c.sc(8," Last Name\xa0 "),c.rc(9,P,1,4,"i",18),c.Qb(),c.Rb(10,"th",17),c.Zb("click",(function(){return c.mc(r),c.cc().changeSort("email")})),c.sc(11," Email\xa0 "),c.rc(12,j,1,4,"i",18),c.Qb(),c.Rb(13,"th",17),c.Zb("click",(function(){return c.mc(r),c.cc().changeSort("phone")})),c.sc(14," Phone\xa0 "),c.rc(15,x,1,4,"i",18),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.rc(17,Z,9,10,"tr",19),c.dc(18,"sortObjects"),c.dc(19,"filterObjects"),c.Qb(),c.Qb(),c.Qb()}if(2&e){var n=c.cc();c.Bb(1),c.Eb("table-sm",n.shrink),c.Bb(5),c.gc("ngIf","firstName"===n.sortType),c.Bb(3),c.gc("ngIf","lastName"===n.sortType),c.Bb(3),c.gc("ngIf","email"===n.sortType),c.Bb(3),c.gc("ngIf","phone"===n.sortType),c.Bb(2),c.gc("ngForOf",c.fc(18,7,c.ec(19,11,n.users,n.searchString),n.sortType,n.sortReverse))}}var z,F,D,L=((D=function(){function e(){_classCallCheck(this,e),this.choose=new c.n,this.isOpen=!0,this.sortType="firstName",this.sortReverse=!1,this.searchString="",this.selectedUser=null,this.shrink=window.innerWidth<768}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;window.onresize=function(){return e.shrink=window.innerWidth<768}}},{key:"changeSort",value:function(e){e===this.sortType?this.sortReverse=!this.sortReverse:this.sortType=e}},{key:"selectUser",value:function(e){this.selectedUser=e,this.choose.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275cmp=c.Gb({type:D,selectors:[["app-user-list"]],inputs:{users:"users"},outputs:{choose:"choose"},decls:20,vars:13,consts:[[1,"animated","slideInUp"],[1,"card"],[1,"card-header","bg-dark","text-light","d-flex","align-items-center"],[1,"mr-auto"],[1,"badge-light","rounded"],[1,"form-inline"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search","fa-fw"],["name","searchString","type","text","placeholder","Search String","aria-label","Search String",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-fw","align-self-center",3,"click"],[1,"card-body"],["class","table-responsive",4,"ngIf"],[1,"card-footer","text-info"],[1,"table-responsive"],[1,"table","table-striped","table-hover",2,"cursor","pointer"],["scope","col",3,"click"],["class","fa",3,"ngClass",4,"ngIf"],[3,"bg-secondary","text-light","bold","click",4,"ngFor","ngForOf"],[1,"fa",3,"ngClass"],[3,"click"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"h5",3),c.sc(4,"User List\xa0"),c.Rb(5,"span",4),c.sc(6),c.Qb(),c.Qb(),c.Rb(7,"form",5),c.Rb(8,"div",6),c.Rb(9,"div",7),c.Rb(10,"span",8),c.Nb(11,"i",9),c.Qb(),c.Qb(),c.Rb(12,"input",10),c.Zb("ngModelChange",(function(e){return t.searchString=e})),c.Qb(),c.Qb(),c.Qb(),c.sc(13," \xa0\xa0"),c.Rb(14,"i",11),c.Zb("click",(function(){return t.isOpen=!t.isOpen})),c.Qb(),c.Qb(),c.Rb(15,"div",12),c.rc(16,T,20,14,"div",13),c.Qb(),c.Rb(17,"div",14),c.sc(18," Select user to edit or view address details"),c.Nb(19,"br"),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.Bb(6),c.tc(t.users.length),c.Bb(6),c.Eb("form-control-sm",t.shrink),c.gc("ngModel",t.searchString),c.Bb(2),c.Eb("fa-chevron-right",!t.isOpen)("fa-chevron-down",t.isOpen),c.Bb(1),c.Eb("collapse",!t.isOpen),c.Bb(1),c.gc("ngIf",t.users.length>0),c.Bb(1),c.Eb("collapse",!t.isOpen))},directives:[s.p,s.g,s.h,s.a,s.f,s.i,n.j,n.i,n.h],pipes:[a.c,a.b],encapsulation:2}),D),J=((F=function(){function e(t,r,n){_classCallCheck(this,e),this.connectivityService=t,this.toastrService=r,this._userService=n,this.address=null,this.addresses=[],this.isConnected=!0,this.subscriptions=[],this.user=null,this.users=[]}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.connectivityService.isConnected$.subscribe((function(t){if(e.isConnected=t,t){var r=localStorage.getItem("dirtyUsers");r&&(JSON.parse(r).forEach((function(t){return e.onSaveUser(t)})),localStorage.removeItem("dirtyUsers"))}}))),this.subscriptions.push(this._userService.getUsers(!0).subscribe((function(t){return e.users=t})))}},{key:"onSaveUser",value:function(e){var t=this;if(this.isConnected)this._userService.updateUser(e).subscribe((function(r){t.toastrService.success("User '".concat(e.firstName," ").concat(e.lastName,"' saved to API"),"Save User"),console.log("User '".concat(e.firstName," ").concat(e.lastName,"' saved to API"))}),(function(t){console.error("Error saving user '".concat(e.firstName," ").concat(e.lastName,"' to API"),"Save User")}));else{e.isDirty=!0,this.users.map((function(t){return e.id===t.id?e:t})),localStorage.setItem("users",JSON.stringify(this.users));var r=this.users.filter((function(e){return e.isDirty}));localStorage.setItem("dirtyUsers",JSON.stringify(r)),this.toastrService.success("Offline - User '".concat(e.firstName," ").concat(e.lastName,"' saved locally"),"Save User"),console.log("Offline - User '".concat(e.firstName," ").concat(e.lastName,"' saved locally.  Once connected, changes will be uploaded"))}}},{key:"onSelect",value:function(e){window.scrollTo(0,0),this.user=e,e.addresses&&e.addresses.length>0&&(this.address=e.addresses[0])}},{key:"reset",value:function(){localStorage.removeItem("users"),localStorage.removeItem("dirtyUsers"),this.user=null,this.address=null,this._userService.getUsers(!0),console.log("User list reset")}}]),e}()).\u0275fac=function(e){return new(e||F)(c.Mb(l.a),c.Mb(b.b),c.Mb(_))},F.\u0275cmp=c.Gb({type:F,selectors:[["app-user-shell"]],decls:9,vars:3,consts:[[1,"row"],[1,"col"],[3,"user","save"],[3,"address"],[1,"btn","btn-warning","mb-3",3,"click"],[3,"users","choose"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"app-user-form",2),c.Zb("save",(function(e){return t.onSaveUser(e)})),c.Qb(),c.Qb(),c.Rb(3,"div",1),c.Nb(4,"app-address-form",3),c.Qb(),c.Qb(),c.Rb(5,"button",4),c.Zb("click",(function(){return t.reset()})),c.sc(6,"Reset List"),c.Qb(),c.Nb(7,"br"),c.Rb(8,"app-user-list",5),c.Zb("choose",(function(e){return t.onSelect(e)})),c.Qb()),2&e&&(c.Bb(2),c.gc("user",t.user),c.Bb(2),c.gc("address",t.address),c.Bb(4),c.gc("users",t.users))},directives:[M,A,L],encapsulation:2}),F),q=((z=function e(){_classCallCheck(this,e)}).\u0275mod=c.Kb({type:z}),z.\u0275inj=c.Jb({factory:function(e){return new(e||z)},providers:[_],imports:[[a.a,n.b,s.b,i.c,o.f.forChild([{path:"",component:J}])]]}),z)}}]);