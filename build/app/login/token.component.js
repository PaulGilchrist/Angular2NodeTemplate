"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),router_1=require("@angular/router"),common_1=require("@angular/common"),identity_service_1=require("./../services/identity.service"),TokenComponent=function(){function e(e,t,o){this._location=e,this._router=t,this._identityService=o,this.token=null,this.id_token=null}return e.prototype.ngOnInit=function(){this._identityService.isTokenValid()?(this.token=this._identityService.token,this.token.displayName=this.token.given_name+" "+this.token.family_name,this.id_token=this._identityService.id_token):(toastr.error("Not logged in"),this._location.go("/main"))},e.prototype.getDateString=function(e){var t="";return e&&(t=e+" ("+new Date(1e3*e)+")"),t},e.prototype.logout=function(){this._identityService.clearToken(),this._router.navigate(["home"])},e.prototype.renew=function(){this._identityService.renewToken()},e=__decorate([core_1.Component({moduleId:module.id,selector:"my-token",templateUrl:"token.component.html"}),__metadata("design:paramtypes",[common_1.Location,router_1.Router,identity_service_1.IdentityService])],e)}();exports.TokenComponent=TokenComponent;