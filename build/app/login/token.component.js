"use strict";var __decorate=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),router_1=require("@angular/router"),common_1=require("@angular/common"),identity_service_1=require("./../services/identity.service"),TokenComponent=function(){function e(e,t,n){this._location=e,this._router=t,this._identityService=n,this.token=null,this.id_token=null}return e.prototype.ngOnInit=function(){this._identityService.isTokenValid()?(this.token=this._identityService.token,this.token.displayName=this.token.given_name+" "+this.token.family_name,this.id_token=this._identityService.id_token):(toastr.error("Not logged in"),this._location.go("/main"))},e.prototype.getDateString=function(e){var t="";return e&&(t=e+" ("+new Date(1e3*e)+")"),t},e.prototype.logout=function(){this._identityService.clearToken(),this._router.navigate(["home"])},e.prototype.renew=function(){this._identityService.renewToken()},e=__decorate([core_1.Component({selector:"my-token",templateUrl:"app/login/token.component.html"}),__metadata("design:paramtypes",[common_1.Location,router_1.Router,identity_service_1.IdentityService])],e)}();exports.TokenComponent=TokenComponent;