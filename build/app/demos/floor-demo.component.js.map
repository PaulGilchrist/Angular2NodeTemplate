{"version":3,"sources":["app/demos/floor-demo.component.ts"],"names":[],"mappings":"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","file":"app/demos/floor-demo.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n//Must be inlcuded in index.html\r\ndeclare var $: any;\r\ndeclare var d3: any;\r\n\r\n//We only put interfaces in the models folder when they are reused across components\r\nexport interface FloorZone { name: string, type: string, layers: string[], active: boolean } //Valid types are undecided, carpet, tile, or wood\r\nexport interface Option { level: number, name: string, standardName: string, optionName: string, standardLayers: string[], optionLayers: string[], active: boolean }\r\n\r\n@Component({\r\n    directives: [FloorDemoComponent],\r\n    selector: 'floor-demo',\r\n    styleUrls: ['app/demos/floor-demo.component.css'],\r\n    templateUrl: 'app/demos/floor-demo.component.html'\r\n})\r\nexport class FloorDemoComponent {\r\n    dimension: boolean = false;\r\n    level: number = 1;\r\n    flooringZones: FloorZone[] = [\r\n        { name: 'Kitchen', type: 'undecided', layers: ['s1', 's3'], active: false },\r\n        { name: 'Living', type: 'undecided', layers: ['s9', 's10', 's11', 's18'], active: false },\r\n        { name: 'Bathrooms', type: 'undecided', layers: ['s13_1', 's15', 's16', 's19', 's22', 'o2', 'o5', 'o6'], active: false },\r\n        { name: 'Bedrooms', type: 'undecided', layers: ['s17', 's20', 's21', 's23', 's24', 'o3', 'o7'], active: false },\r\n        { name: 'Foyer', type: 'undecided', layers: ['s8'], active: false },\r\n        { name: 'Dining', type: 'undecided', layers: ['s7'], active: false },\r\n        { name: 'Laundry', type: 'undecided', layers: ['s6', 's4', 's4_1'], active: false }\r\n    ]\r\n    options: Option[] = [\r\n        { level: 1, name: 'Garage', standardName: 'Standard', optionName: 'Extended', standardLayers: ['s14'], optionLayers: ['o4'], active: false },\r\n        { level: 1, name: 'Flex Room', standardName: 'Den', optionName: 'Guest Suite', standardLayers: ['s11', 's12', 's13'], optionLayers: ['o3'], active: false },\r\n        { level: 1, name: 'Powder Room', standardName: 'No', optionName: 'Yes', standardLayers: ['s4'], optionLayers: ['o2', 's4_1'], active: false },\r\n        { level: 1, name: 'Sunroom', standardName: 'No', optionName: 'Yes', standardLayers: ['s1', 's26', 's26_2'], optionLayers: ['o1', 'o8', 'o8_1'], active: false },\r\n        { level: 2, name: 'Owner\\'s Bath Shower', standardName: 'Standard', optionName: 'Upgraded', standardLayers: ['s15'], optionLayers: ['o5'], active: false },\r\n        { level: 3, name: 'Basement Bed and Bath', standardName: 'No', optionName: 'Yes', standardLayers: ['s25', 's27', 's28'], optionLayers: ['o6', 'o7'], active: false }\r\n    ]\r\n    focusOption: Option = null;\r\n\r\n    ngOnInit(): void {\r\n        this.changeDimension(this.dimension);\r\n        this.changeLevel(this.level);\r\n        //Loop through options setting their initial default visibility\r\n        for(let i = 0; i < this.options.length; i++) {\r\n            let option = this.options[i];\r\n            //The function will toggle the active value, but this one time we do not want it changed\r\n            option.active = !option.active;\r\n            this.toggleOption(option);\r\n        }\r\n        //Add mousewheel event listner to control svg scale\r\n        $('#floorplan').bind('mousewheel', function(e: any) {\r\n            var stepping = 20;\r\n            var floorplan: any = $('#floorplan');\r\n            var width: string = floorplan.css('width');\r\n            width = width.substring(0, width.length -2); //remove px\r\n            var height: string = floorplan.css('height');\r\n            height = height.substring(0, height.length -2); //remove px\r\n            if(e.originalEvent.wheelDelta / 120 > 0) {\r\n                floorplan.css('width', parseInt(width)-stepping + 'px');\r\n                floorplan.css('height', parseInt(height)-stepping + 'px');\r\n            } else {\r\n                floorplan.css('width', parseInt(width)+stepping + 'px');\r\n                floorplan.css('height', parseInt(height)+stepping + 'px');\r\n            }\r\n        });\r\n    }\r\n\r\n    toggleFlooringZones(zone: FloorZone, type: string): void {\r\n        //zone.active = !zone.active;\r\n        zone.active = true;\r\n        zone.type = type;\r\n        for(let i = 0; i < zone.layers.length; i++) {\r\n            //Turn on or off each associated layer based on the active state of the zone\r\n            let dimzone = $('.' + zone.layers[i] + ' .dimzone');\r\n            let path = dimzone.find(\"path\");\r\n            switch(zone.type) {\r\n                case 'carpet':\r\n                    path.removeClass( \"tile wood\" ).addClass('carpet');\r\n                    break;\r\n                case 'tile':\r\n                    path.removeClass( \"carpet wood\" ).addClass('tile');\r\n                    break;\r\n                case 'wood':\r\n                    path.removeClass( \"carpet tile\" ).addClass('wood');\r\n                    break;\r\n                default:\r\n                    path.removeClass( \"carpet tile wood\" );\r\n            }\r\n            if(zone.active && zone.type != 'undecided') {\r\n                dimzone.css('opacity', 1);\r\n            } else {\r\n                dimzone.css('opacity', 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleOption(option: Option): void {\r\n        let _this = this;\r\n        option.active = !option.active;\r\n        for(let j = 0; j < option.standardLayers.length; j++) {\r\n            let layer = $('.' + option.standardLayers[j]);\r\n            layer.css('opacity', option.active?0:1);\r\n            //Testing - Setup click events\r\n            layer.find('.dimzone path').addClass('test');\r\n            layer.find('.dimzone path').on('click', function() {\r\n                 console.log('clicked');\r\n            });\r\n        }\r\n        for(let j = 0; j < option.optionLayers.length; j++) {\r\n            let layer = $('.' + option.optionLayers[j]);\r\n            layer.css('opacity', option.active?1:0);\r\n            //Testing - Setup click events\r\n            layer.find('.dimzone path').addClass('test');\r\n            layer.find('.dimzone path').on('click', function() {\r\n                 console.log('clicked');\r\n            });\r\n            d3.select()\r\n        }\r\n    }\r\n\r\n    changeDimension(dimension: boolean): void {\r\n        this.dimension = dimension;\r\n        $('.dimension').css('opacity', dimension?1:0);\r\n    }\r\n\r\n    changeLevel(level: number): void {\r\n        this.level = level;\r\n        $('.level1').css('opacity', level==1?1:0);\r\n        $('.level2').css('opacity', level==2?1:0);\r\n        $('.level3').css('opacity', level==3?1:0);\r\n    }\r\n\r\n}"],"sourceRoot":"/source/"}