"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(a<3?n(i):a>3?n(t,r,i):n(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),dragula_service_1=require("../services/dragula.service"),DragDemoComponent=function(){function e(e){this.dragulaService=e,this.many=["The","possibilities","are","endless!"],this.many2=["Explore","them"],this.list1=[{id:0,text:"You can drag and drop these elements between these two containers",allowMove:!0},{id:1,text:"There's also the possibility of moving elements around in the same container, changing their position",allowMove:!0},{id:2,text:"A drop event is fired whenever an element is dropped anywhere other than its origin",allowMove:!0},{id:3,text:"The over event fires when you drag something over a container, and out fires when you drag it away from the container",allowMove:!0}],this.list2=[{id:4,text:"There are also events such as cancel, cloned, drag, dragend, remove, shadow, dropModel, and removeModel",allowMove:!0},{id:5,text:"Make sure to check out the dragula and ng2-dragula documentation on GitHub!",allowMove:!0},{id:6,text:"Don't move me!!!",allowMove:!1}]}return e.prototype.ngOnInit=function(){var e=this,t=this;this.dragulaService.setOptions("dragContainer",{isContainer:function(e){return!1},moves:function(e,t,r,o){return!0},accepts:function(e,r,o,n){var a=parseInt($(e).attr("id")),i=_.findWhere(t.list1,{id:a})||_.findWhere(t.list2,{id:a});return!!i.allowMove},invalid:function(e,t){return!1},direction:"vertical",copy:!1,copySortSource:!0,revertOnSpill:!0,removeOnSpill:!1,mirrorContainer:document.body,ignoreInputTextSelection:!0}),this.dragulaService.over.subscribe(function(t){e.onOver(t.slice(1))}),this.dragulaService.out.subscribe(function(t){e.onOut(t.slice(1))})},e.prototype.onOver=function(e){var t=e[0],r=e[1],o=e[2],n=parseInt($(t).attr("id")),a=_.findWhere(this.list1,{id:n})||_.findWhere(this.list2,{id:n});r!=o&&(a.allowMove?$(r).addClass("drag-success"):$(r).addClass("drag-error"))},e.prototype.onOut=function(e){var t=(e[0],e[1]);e[2];$(t).removeClass("drag-success drag-error")},e.prototype.removeObject=function(e,t){for(var r=0;r<e.length;r++)if(e[r].id===t.id){e.splice(r,1);break}},e=__decorate([core_1.Component({selector:"drag-demo",styleUrls:["app/demos/drag-demo.component.css"],viewProviders:[dragula_service_1.DragulaService],templateUrl:"app/demos/drag-demo.component.html"}),__metadata("design:paramtypes",[dragula_service_1.DragulaService])],e)}();exports.DragDemoComponent=DragDemoComponent;